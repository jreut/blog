:root {
  --background: whitesmoke;
  --background-callout: color(var(--background) tint(40%));
  --body-text: darkslategrey;
  --body-text-callout: color(var(--body-text) shade(40%));
  --theme-primary: teal;
  --theme-primary-tint: color(var(--theme-primary) tint(30%));
  --theme-primary-light: color(var(--theme-primary) tint(90%));
  --theme-secondary: darksalmon;
  --theme-secondary-light: color(var(--theme-secondary) tint(70%));
  --theme-accent: firebrick;
}
body {
  background-color: var(--background);
  color: var(--body-text);
  font-family: 'Optima', sans-serif;

  padding: 0;
  margin: 0;

  /* sticky footer */
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}
section > h2 { font-size: 1.2rem; }
main {
  flex: 1;
  counter-reset: footnote;
}
footer {
  flex: none;
  padding: 5vh 1em;
  background-color: var(--theme-secondary-light);
}
a { text-decoration: none; }
a:link { color: var(--theme-primary); }
a:active { color: var(--theme-accent); }
a:visited { color: var(--theme-primary-tint); }
a:hover { color: var(--theme-secondary); }
code, pre {
  font-family: monospace;
  background-color: var(--background-callout);
  color: var(--body-text-callout);
}
pre { overflow: auto; }
ul, ol { list-style: none; }
article { counter-reset: figure; }
figure {
  background-color: var(--background-callout);
  width: 80%;
}
figcaption::before {
  counter-increment: figure;
  content: "Figure " counter(figure) ": ";
  font-weight: bold;
}
figcaption {
  font-style: italic;
  text-align: center;
}
figcaption code {
  font-style: normal;
}
sup > a::before {
  counter-increment: footnote;
  content: "[" counter(footnote) "]" ;
}
blockquote {
  border-left: 0.25rem solid var(--theme-secondary);
  padding: 0.5rem;
  background-color: var(--theme-secondary-light);
}
q {
  background-color: var(--theme-secondary-light);
}
nav > *:not(:last-child)::after { content: '\2014'; }

aside {
  border-left: 0.25rem solid var(--theme-primary);
  padding: 0.5rem;
  background-color: var(--theme-primary-light);
}
aside > * { margin: 0; }

@media screen and (min-width: 40em) {
  body {
    padding: 0 0.5em;
  }
  aside {
    margin: 0 1vw;
  }
}

@media screen and (min-width: 60em) {
  body {
    max-width: 50vw;
    margin-left: 15vw;
  }
  aside {
    position: absolute;
    width: 25vw;
    left: 65vw;
    margin-right: 1vw;
  }
}

@media screen and (min-width: 75em) {
  body {
    margin: auto;
    max-width: 40vw;
  }
  aside {
    width: 20vw;
    left: 70vw;
  }
}

.footnotes {
  background-color: var(--theme-primary-light);
  padding: 1em;
}
.footnotes ul {
  list-style-type: decimal;
}
